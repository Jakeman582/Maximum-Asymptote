///////////////////////////////////////////////////////////////////////////////////////////////////
// Library imports
///////////////////////////////////////////////////////////////////////////////////////////////////
import graph;

///////////////////////////////////////////////////////////////////////////////////////////////////
// Maximum Mathematics import
///////////////////////////////////////////////////////////////////////////////////////////////////
import MaximumMathematics;

///////////////////////////////////////////////////////////////////////////////////////////////////
// Figure settings
///////////////////////////////////////////////////////////////////////////////////////////////////
unitsize(1cm);

///////////////////////////////////////////////////////////////////////////////////////////////////
// Image settings
///////////////////////////////////////////////////////////////////////////////////////////////////
real width = 13;
real height = 9;
real margin = 0.1;

///////////////////////////////////////////////////////////////////////////////////////////////////
// Caption settings
///////////////////////////////////////////////////////////////////////////////////////////////////
real caption_height = 1;
bool include_caption = false;

///////////////////////////////////////////////////////////////////////////////////////////////////
// Drawing the image
///////////////////////////////////////////////////////////////////////////////////////////////////
picture background;
picture image;

// Color in the background, including space for the margin
fill(
    background,
    box((-margin, -margin), (width + margin, height + margin)),
    p = figure_background_color
);

string[] A = {"$\spadesuit$", "$\heartsuit$", "$\diamondsuit$", "$\clubsuit$"};
string[] B = {"B", "R"};

tree_diagram_2(
    image,
    A, B,
    width, height
);

///////////////////////////////////////////////////////////////////////////////////////////////////
// Drawing the caption container
///////////////////////////////////////////////////////////////////////////////////////////////////
picture caption;

// Drawing the background for the caption, including space for the margin
fill(
    caption,
    box((-margin, -margin - caption_height), (width + margin, -margin)),
    p = figure_background_color
);

label(
    caption,
    "A", 
    (width/2, -margin - caption_height/2)
);

///////////////////////////////////////////////////////////////////////////////////////////////////
// Producing the final image
///////////////////////////////////////////////////////////////////////////////////////////////////
add(background);
add(image);
if(include_caption) {add(caption);}